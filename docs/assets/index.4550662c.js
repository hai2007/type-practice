import{R as e,j as t,a as r}from"./index.44e70f02.js";var n,i=[{name:"group",attrs:{"c-for":"(row,i) in keys"},children:[{name:"group",attrs:{"c-for":"(col,j) in row"},children:[{name:"rect",attrs:{":y":"i*100+10",":x":"j*100+10+i*50",width:"80",height:"80",":fill-color":'col==currentKey?"black":(col==errorKey?"red":(col==rightKey?"green":"gray"))'},children:[]},{name:"text",attrs:{":y":"i*100+50",":x":"j*100+50+i*50",":content":"col","fill-color":"white",align:"center"},children:[]}]}]}],o={exports:{}};
/*!
 * clunch.js - 🎨 The Progressive JavaScript Interactive Picture Framework.
 * git+https://github.com/hai2007/clunch.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 2.3.6
 *
 * Copyright (c) 2018-2022 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Fri Jan 14 2022 13:30:00 GMT+0800 (中国标准时间)
 */
n=o,function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=Object.prototype.toString;function o(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i.call(e)}var a=function(t,r){return null!==r&&"object"===e(r)&&t.indexOf(r.nodeType)>-1&&!function(t){if(null===t||"object"!==e(t)||"[object Object]"!=o(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}(r)},s=function(t){return"number"==typeof t||null!==t&&"object"===e(t)&&"[object Number]"===o(t)},l=function(t){var r=e(t);return"string"===r||"object"===r&&null!=t&&!Array.isArray(t)&&"[object String]"===o(t)},u=function(t){if(!function(t){var r=e(t);return null!=t&&("object"===r||"function"===r)}(t))return!1;var r=o(t);return"[object Function]"===r||"[object AsyncFunction]"===r||"[object GeneratorFunction]"===r||"[object Proxy]"===r},c=function(e){return Array.isArray(e)},f=[],d=null;function h(e,t,r){arguments.length<2&&(t=400);var n={timer:function(e,t,r){if(!e)throw new Error("Tick is required!");var i=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return f.push({id:i,createTime:new Date,tick:e,duration:t,callback:r}),n.start(),i},start:function(){d||(d=setInterval(n.tick,13))},tick:function(){var e,t,r,i,o,a,s,l=f;for((f=[]).length=0,t=0;t<l.length;t++)e=(o=l[t]).createTime,r=o.tick,a=o.duration,i=o.callback,r(s=(s=(+new Date-e)/a)>1?1:s),s<1&&o.id?f.push(o):i&&i(s);f.length<=0&&n.stop()},stop:function(){d&&(clearInterval(d),d=null)}},i=n.timer((function(t){e(t)}),t,r);return function(){var e;for(e in f)if(f[e].id==i)return void(f[e].id=void 0)}}var p=function(e,t){for(var r in t)try{e[r]=t[r]}catch(n){throw new Error("Illegal property value！")}return e},g="[\\x20\\t\\r\\n\\f]",v=function(e){/^[_$]/.test(e)};function _(e){var t,r,n;e=function(e,t){for(var r in t)try{e[r]=t[r]}catch(n){throw new Error("Illegal property value！")}return e}({u:.5},e);var i=function(e){if(t){var i=(e-r)/(n-r),o=i*i;return(i*o*t[0]+o*t[1]+i*t[2]+t[3])*(n-r)}throw new Error("You shoud first set the position!")};return i.setP=function(o,a,s,l,u,c){if(!(o<s))throw new Error("The point x-position should be increamented!");r=o,n=s;var f=e.u*u,d=e.u*c;return t=[2*(a/=s-o)-2*(l/=s-o)+f+d,3*l-3*a-2*f-d,f,a],i},i}function y(e){var t,r;e=p({t:0},e);var n=function(e){if(t){for(r=-1;r+1<t.x.length&&(e>t.x[r+1]||-1==r&&e>=t.x[r+1]);)r+=1;if(-1==r||r>=t.h.length)throw new Error("Coordinate crossing!");return t.h[r](e)}throw new Error("You shoud first set the position!")};return n.setT=function(t){if("number"!=typeof t)throw new Error("Expecting a figure!");return e.t=t,n},n.setP=function(r){t={x:[],h:[]};var i,o,a=(r[1][1]-r[0][1])/(r[1][0]-r[0][0]);for(t.x[0]=r[0][0],i=1;i<r.length;i++){if(r[i][0]<=r[i-1][0])throw new Error("The point position should be increamented!");t.x[i]=r[i][0],o=i<r.length-1?(r[i+1][1]-r[i-1][1])/(r[i+1][0]-r[i-1][0]):(r[i][1]-r[i-1][1])/(r[i][0]-r[i-1][0]),t.h[i-1]=_({u:.5*(1-e.t)}).setP(r[i-1][0],r[i-1][1],r[i][0],r[i][1],a,o),a=o}return n},n}function m(e,t){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle;return l(t)?r.getPropertyValue(t):r}var b=function(e){var t=document.getElementsByTagName("head")[0];t.style.color=e;var r=m(t,"color").replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+g));return[+r[0],+r[1],+r[2],null==r[3]?1:+r[3]]},x=function(e,t){t&&t>=0&&t<=1||(t=1);for(var r=[],n=1;n<=e;n++)r.push("rgba("+(230*Math.random()+20).toFixed(0)+","+(230*Math.random()+20).toFixed(0)+","+(230*Math.random()+20).toFixed(0)+","+t+")");return r},w=function(e,t){t&&t>=0&&t<=1||(t=1);var r=["rgba(84,112,198,"+t+")","rgba(145,204,117,"+t+")","rgba(250,200,88,"+t+")","rgba(238,102,102,"+t+")","rgba(115,192,222,"+t+")","rgba(59,162,114,"+t+")","rgba(252,132,82,"+t+")","rgba(154,96,180,"+t+")","rgba(234,124,204,"+t+")"],n=[];if(e<=r.length)return r;if(e%r.length==0)for(var i=0;i<e/r.length;i++)n=n.concat(r);else{for(var o=1;o<e/r.length;o++)n=n.concat(r);if(e%r.length==1)n=n.concat(r[4]);else for(var a=0;a<e%r.length;a++)n=n.concat(r[a])}return n};function k(e){var t,r,n=e||{},i=function(e){var i,o,a,s=function(e){var t,r,i={},o=n.root(e);t=r=n.id(o),i[t]={data:o,pid:null,id:t,children:[]};var a=1;return function r(o,s){var l,u=n.child(o,e);for(a+=u?u.length:0,l=0;u&&l<u.length;l++)t=n.id(u[l]),i[s].children.push(t),i[t]={data:u[l],pid:s,id:t,children:[]},r(u[l],t)}(o,t),{value:[r,i],num:a}}(e);return t=s.value[1],r=s.value[0],1==s.num?(t[r].left=.5,t[r].top=.5,{deep:1,node:t,root:r,size:1}):(i=[],o=0,a=0,function e(r,n){var s;for(n>a&&(a=n),s=0;s<r.children.length;s++)e(t[r.children[s]],n+1);if(t[r.id].left=n+.5,0==s?(null==i[n]&&(i[n]=-.5),null==i[n-1]&&(i[n-1]=-.5),t[r.id].top=i[n]+1,i[n]+1+.5*(t[r.pid].children.length-1)-1<i[n-1]&&(t[r.id].top=i[n-1]+1-.5*(t[r.pid].children.length-1))):t[r.id].top=.5*(t[r.children[0]].top+t[r.children[s-1]].top),t[r.id].top<=i[n]){var l=i[n]+1-t[r.id].top;!function e(r,n){var o;for(t[r].top+=l,i[n]<t[r].top&&(i[n]=t[r].top),o=0;o<t[r].children.length;o++)e(t[r].children[o],n+1)}(r.id,n)}i[n]=t[r.id].top,t[r.id].top+.5>o&&(o=t[r.id].top+.5)}(t[r],0),{node:t,root:r,size:o,deep:a+1})};return i.root=function(e){return n.root=e,i},i.child=function(e){return n.child=e,i},i.id=function(e){return n.id=e,i},i}var $=function(e,t,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-e)*o-(i-t)*a+e).toFixed(7),+((n-e)*a+(i-t)*o+t).toFixed(7)]},S=function(e,t,r,n,i){var o=Math.sqrt(e*e+t*t);return[+(e*r/o+n).toFixed(7),+(t*r/o+i).toFixed(7)]},A=function(e,t,r,n,i){return[+(r*(n-e)+e).toFixed(7),+(r*(i-t)+t).toFixed(7)]},T=function(e){e=p({d:[1,1],c:[0,0],p:[0,0]},e);var t={rotate:function(r){var n=e.d[0]+e.p[0],i=e.d[1]+e.p[1],o=$(e.p[0],e.p[1],r,n,i);return e.d=[o[0]-e.p[0],o[1]-e.p[1]],t},move:function(r){return e.p=S(e.d[0],e.d[1],r,e.p[0],e.p[1]),t},scale:function(r){return e.p=A(e.c[0],e.c[1],r,e.p[0],e.p[1]),t},value:function(){return e.p}};return t};function M(e){e=p({"begin-deg":0,deg:2*Math.PI},e);var t=k().root(e.root).child(e.child).id(e.id),r=function r(n){var i=t(n);for(var o in i.node)i.node[o].deep=i.node[o].left-.5;if("LR"===e.type||"RL"===e.type){var a=e.width/i.deep;"RL"===e.type&&(a*=-1);var s=e.height/(i.size- -.5);for(var l in i.node){var c=i.node[l];i.node[l].left=+(("RL"==e.type?e.width:0)- -c.left*a).toFixed(7),i.node[l].top=+(c.top*s).toFixed(7)}}else if("TB"===e.type||"BT"===e.type){var f=e.height/i.deep;"BT"==e.type&&(f*=-1);var d,h,p=e.width/(i.size- -.5);for(var g in i.node){var v=i.node[g];d=v.left,h=v.top,i.node[g].top=+(("BT"==e.type?e.height:0)- -d*f).toFixed(7),i.node[g].left=+(h*p).toFixed(7)}}else if("circle"===e.type)if(1==i.deep&&1==i.size)i.node[i.root].left=e.cx,i.node[i.root].top=e.cy;else{var _=e.radius/(i.deep-1),y=e.deg/(i.size- -.5);for(var m in i.node){var b=i.node[m];i.node[m].deg=(e["begin-deg"]- -y*b.top)%(2*Math.PI);var x=$(e.cx,e.cy,i.node[m].deg,e.cx- -_*(b.left-.5),e.cy);i.node[m].left=+x[0],i.node[m].top=+x[1]}}return u(e.drawer)?(e.drawer(i),r):i};return r.config=function(t){return e=p(e,t),r},r.drawer=function(t){return e.drawer=t,r},r}var O=function(e,t,r,n){var i=Math.cos(e),o=Math.sin(e);return[t*i-r*o,t*o+r*i,n]},I=[];function z(e,t,r){return I=function(e,t,r,n){var i=Math.cos(e),o=Math.sin(e);return[n*o+t*i,r,n*i-t*o]}((360-r)/180*Math.PI,100*e.scale,0,0),I=O(t/180*Math.PI,I[0],I[1],I[2]),I=O((90-e.center[0])/180*Math.PI,I[0],I[1],I[2]),I=function(e,t,r,n){var i=Math.cos(e),o=Math.sin(e);return[t,r*i-n*o,r*o+n*i]}((90-e.center[1])/180*Math.PI,I[0],I[1],I[2]),[-I[0],I[1],I[2]]}function R(e){var t=p({type:"eoap",scale:1,center:[107,36]},e),r=function(e,r){if("eoap"==t.type)return z(t,e,r);throw new Error("Map type configuration error!")};return r.config=function(e){return t=p(t,e),r},r}function P(e,t,r){if(e<t){var n=t;t=e,e=n}else if(e==t)return[e];var i=(e+".").split(".")[1].length,o=(t+".").split(".")[1].length,a=i>o?i:o,s=function(e){for(var t=e<100&&e>-100?10:.1,r=1,n=e;10==t?n>=-100&&n<=100:n<=-100||n>=100;)r*=t,n*=t;return r}(e-t),l=+(Math.ceil((e-t)*s/r)/s).toFixed(a);if(l<=0)return[t,e];var u,c=Math.floor(t/l)*l,f=[];for(f.push(c),u=1;f[f.length-1]<e;u++)f.push(+(c+l*u).toFixed(a));f[0]=+c.toFixed(a);for(var d=[f[0]],h=1;h<f.length;h++)d[d.length-1]!=f[h]&&d.push(f[h]);return d}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=P(e,t,r);return{min:n[0],max:n[n.length-1],distance:n.length<=1?0:n[1]-n[0],num:n.length-1,ruler:n}}function C(e){for(var t=[],r=function(r){["boolean","number","json","string","color","any"].indexOf(e[r])>-1?t.unshift((function(t){var n=!(arguments.length>0);return function(i){return{type:e[r],required:n,animation:i,default:t}}})):t.unshift({$animation:h,$cardinal:y,$formatColor:b,$getRandomColors:x,$tree:M,$dot:T,$rotate:$,$move:S,$scale:A,$map:R,$getLoopColors:w,$ruler:E}[e[r]])},n=e.length-2;n>=0;n--)r(n);return e[e.length-1].apply(this,t)}var j=function(e){var t={index:-1,currentChar:null,readNext:function(){return t.currentChar=t.index++<e.length-1?e[t.index]:null,t.currentChar},getNextN:function(r){return e.substring(t.index,r+t.index>e.length?e.length:r+t.index)}};return t},D=function(e){if("string"!=e.type&&"object"!=e.type){if(/[+-]{0,1}\d{1,}\.{0,1}\d{0,}/.test(e.value))return+e.value;if("undefined"==e.value)return;if("null"==e.value)return null;if("false"==e.value)return!1;if("true"==e.value)return!0}return e.value};function W(e){var t,r;if("{"==e[0].value)for(t={},r=3;r<e.length;r+=4)t[e[r-2].value]=D(e[r]);else for(t=[],r=2;r<e.length;r+=2)t.push(D(e[r-1]));return{type:"object",value:t}}var N=function(e){if(l(e)){for(var t,r=function(e){e=e.trim();var t=j(e),r=[],n="";for(t.readNext();!(t.index>=e.length);)if("//"==t.getNextN(2))for(;!/\n/.test(t.readNext())&&t.index<e.length;);else if("/*"==t.getNextN(2)){for(;"*/"!=t.getNextN(2);){if(t.index>=e.length)throw new Error("Multiline comment not closed correctly : "+e+"\nstep='analyseWord-searchEndComment'");t.readNext()}t.readNext(),t.readNext()}else if(["{","}",",","[","]",":"].indexOf(t.currentChar)>-1)""!=(n=n.trim())&&r.push({type:"normal",value:n}),n="",r.push({type:"insign",value:t.currentChar}),t.readNext();else if(['"',"'"].indexOf(t.currentChar)>-1){for(var i="";['"',"'"].indexOf(t.readNext())<0;){if(t.index>=e.length)throw new Error("The string is not closed correctly : "+e+"\nstep='analyseWord-searchString',currentStrWord="+i);i+=t.currentChar}t.readNext(),r.push({type:"string",value:i})}else n+=t.currentChar,t.readNext();return r}(e),n=r.length-1;r.length>1;){for(;n>=0&&("insign"!=r[n].type||["{","["].indexOf(r[n].value)<0);)n-=1;if(n<0)throw new Error("Illegal express : "+e+"\nstep='toOne-searchBeginIndex',wordArray="+r);t=n+1;for(var i=[r[n]];t<r.length&&("insign"!=r[t].type||r[t].value!={"{":"}","[":"]"}[r[n].value]);)i.push(r[t]),t+=1;if(t>=r.length)throw new Error("Illegal express : "+e+"\nstep='toOne-searchEndIndex',wordArray="+r);i.push(r[t]),r[n]=W(i),r.splice(n+1,t-n)}return r[0].value}throw new Error("The data passed is not a string.")},B=function(e,t){switch(e){case"boolean":return"false"!=t&&0!=t;case"number":return/deg$/.test(t)?(0- -t.replace(/deg$/,""))/180*Math.PI:/pi$/.test(t)?(0- -t.replace(/pi$/,""))*Math.PI:l(t)?+t:t;case"json":return l(t)?N(t.replace(/\&quot;/g,"")):t}return t};function F(e,t){e=JSON.parse(JSON.stringify(e));var r=0;return function e(n,i){for(var o=[],a=0;a<n.length;a++){var s=n[a];if(i||s.name in t){var u={name:s.name,attrs:{},events:[],scope:{},index:r++},c=i?{attrs:t[i].subAttrs[s.name]}:t[s.name];for(var f in s.attrs)if(/^c\-bind\:/.test(f)||/^\:/.test(f))s.attrs[f.replace(/^(?:c\-bind){0,1}\:/,"")]={isBind:!0,express:s.attrs[f]},delete s.attrs[f];else if(/^c\-on\:/.test(f)){var d=(f.replace(/^c\-on\:/,"")+"@default").split("@");u.events.push({event:d[0],region:d[1],method:s.attrs[f]})}else if("c-for"==f){var h=/^ {0,}\(/.test(s.attrs[f]),p=h?/^ {0,}\( {0,}([0-9a-zA-Z_$]+) {0,}, {0,}([0-9a-zA-Z_$]+) {0,}\) {1,}in {1,}([^ ]+) {0,}$/.exec(s.attrs[f]):/^ {0,}([0-9a-zA-Z_$]+) {1,}in {1,}([^ ]+) {0,}$/.exec(s.attrs[f]);if(u["c-for"]={key:h?p[2]:null,value:p[1],data:h?p[3]:p[2]},/^\d{1,}$/.test(u["c-for"].data)){var g=+u["c-for"].data;u["c-for"].data=[];for(var v=0;v<g;v++)u["c-for"].data.push(v)}}else"c-if"==f?u["c-if"]=s.attrs[f]:s.attrs[f]={isBind:!1,express:s.attrs[f]};for(var _ in s.attrs)/^c\-/.test(_)||("_id"==_?u._id=s.attrs._id:"_animation"==_?u._animation=s.attrs._animation:c.attrs);for(var y in c.attrs){var m=c.attrs[y];if(m.required&&!(y in s.attrs))throw new Error("attrs."+y+" is required for "+(i?i+" > "+s.name:s.name)+"!");u.attrs[y]={animation:m.animation,type:m.type,value:y in s.attrs?s.attrs[y]:{isBind:!1,express:m.default}},u.attrs[y].value.isBind||(u.attrs[y].value.express=B(u.attrs[y].type,u.attrs[y].value.express))}var b=[],x=[],w=[];if(s.children)for(var k=0;k<s.children.length;k++)l(s.children[k])?w.push(s.children[k]):c.subAttrs&&s.children[k].name in c.subAttrs?x.push(s.children[k]):b.push(s.children[k]);u.children=e(b),u.subAttrs=e(x,s.name),u.text=w,o.push(u)}}return o}(e)}var L=function(e,t,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-e)*o-(i-t)*a+e).toFixed(7),+((n-e)*a+(i-t)*o+t).toFixed(7)]},K={fillStyle:"black",strokeStyle:"black",lineWidth:1,textAlign:"left",textBaseline:"middle","font-size":16,"font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt",lineDash:[],shadowBlur:0,shadowColor:"black"},U=function(e,t,r,n,i,o){return e.beginPath(),e.translate(r,n),e.rotate(i),"default"!=o?e.setFontSize(t["font-size"]):e.font=t["font-size"]+"px "+t["font-family"],e},J=function(e,t,r,n,i,o,a,s){if(i>o){var l=i;i=o,o=l}return a%=2*Math.PI,s>=1.999999*Math.PI||s<=1.999999*-Math.PI?s=2*Math.PI:s%=2*Math.PI,function(e,t,r,n,i,o,a){t<0&&(e+=t,t*=-1);var s,l=[];s=L(0,0,e,i,0),l[0]=s[0],l[1]=s[1],s=L(0,0,t,s[0],s[1]),l[2]=s[0],l[3]=s[1],s=L(0,0,e,o,0),l[4]=s[0],l[5]=s[1],s=L(0,0,t,s[0],s[1]),l[6]=s[0],l[7]=s[1],a(e,e+t,l[0]+r,l[1]+n,l[4]+r,l[5]+n,l[2]+r,l[3]+n,l[6]+r,l[7]+n,.5*(o-i))}(a,s,r,n,i,o,(function(a,s,l,u,c,f,d,h,p,g,v){v<0&&(v=-v),e.beginPath(),e.moveTo(l,u),e.arc(r,n,i,a,s,!1),"round"==t["arc-end-cap"]?e.arc(.5*(d+p),.5*(h+g),v,s-Math.PI,s,!0):"-round"==t["arc-end-cap"]?e.arc(.5*(d+p),.5*(h+g),v,s-Math.PI,s,!1):e.lineTo(p,g),e.arc(r,n,o,s,a,!0),"round"==t["arc-start-cap"]?e.arc(.5*(l+c),.5*(u+f),v,a,a-Math.PI,!0):"-round"==t["arc-start-cap"]?e.arc(.5*(l+c),.5*(u+f),v,a,a-Math.PI,!1):e.lineTo(l,u)})),"butt"==t["arc-start-cap"]&&e.closePath(),e},q=function(e,t,r,n){return e.beginPath(),e.moveTo(t+n,r),e.arc(t,r,n,0,2*Math.PI),e},V=function(e,t,r,n,i){return e.beginPath(),e.rect(t,r,n,i),e},G={};function Z(t,r,n,i){var o;"default"!=t?o=r.painter:(o=r.getContext("2d"),r.style.width=n+"px",r.style.height=i+"px",r.setAttribute("width",2*n),r.setAttribute("height",2*i),o.scale(2,2));var a={},s="uni-app"==t?function(e,r){if(["font-size","font-family","arc-start-cap","arc-end-cap"].indexOf(e)>-1)a[e]=r;else try{o["set"+e[0].toUpperCase()+e.substr(1)](r)}catch(n){G[t]||(G[t]={}),G[t][e]||(G[t][e]=!0)}}:function(e,r){if("lineDash"==e)try{o.setLineDash(r)}catch(n){G[t]||(G[t]={}),G[t][e]||(G[t][e]=!0)}else if(["font-size","font-family","arc-start-cap","arc-end-cap"].indexOf(e)>-1)a[e]=r;else{if(!(e in K))throw new Error("Illegal configuration item of painter : "+e+" !");o[e]=r}},l={config:function(){if(1===arguments.length){if("object"!==e(arguments[0]))return o[arguments[0]];for(var t in arguments[0])s(t,arguments[0][t])}else 2===arguments.length&&s(arguments[0],arguments[1]);return l},fillText:function(e,r,n,i){return o.save(),U(o,a,r,n,i||0,t).fillText(e,0,0),o.restore(),l},strokeText:function(e,r,n,i){return o.save(),U(o,a,r,n,i||0,t).strokeText(e,0,0),o.restore(),l},fullText:function(e,r,n,i){return o.save(),U(o,a,r,n,i||0,t),o.fillText(e,0,0),o.strokeText(e,0,0),o.restore(),l},beginPath:function(){return o.beginPath(),l},closePath:function(){return o.closePath(),l},moveTo:function(e,t){return o.moveTo(e,t),l},lineTo:function(e,t){return o.lineTo(e,t),l},arc:function(e,t,r,n,i){return o.arc(e,t,r,n,n+i,i<0),l},fill:function(){return o.fill(),l},stroke:function(){return o.stroke(),l},full:function(){return o.fill(),o.stroke(),l},save:function(){return o.save(),l},restore:function(){return o.restore(),l},quadraticCurveTo:function(e,t,r,n){return o.quadraticCurveTo(e,t,r,n),l},bezierCurveTo:function(e,t,r,n,i,a){return o.bezierCurveTo(e,t,r,n,i,a),l},clearRect:function(e,t,r,a){return o.clearRect(e||0,t||0,r||n,a||i),l},toDataURL:function(){return r.toDataURL()},drawImage:function(e,t,r,a,s,u,c,f,d){return t=t||0,r=r||0,u=u||0,c=c||0,f=f?2*f:2*n,d=d?2*d:2*i,"CANVAS"==e.nodeName?(f/=2,d/=2,a=a?2*a:2*n,s=s?2*s:2*i):(a=2*(a||e.width),s=2*(s||e.height)),o.drawImage(e,t,r,a,s,u,c,f,d),l},fillArc:function(e,t,r,n,i,s){return J(o,a,e,t,r,n,i,s).fill(),l},strokeArc:function(e,t,r,n,i,s){return J(o,a,e,t,r,n,i,s).stroke(),l},fullArc:function(e,t,r,n,i,s){return J(o,a,e,t,r,n,i,s),o.fill(),o.stroke(),l},fillCircle:function(e,t,r){return q(o,e,t,r).fill(),l},strokeCircle:function(e,t,r){return q(o,e,t,r).stroke(),l},fullCircle:function(e,t,r){return q(o,e,t,r),o.fill(),o.stroke(),l},fillRect:function(e,t,r,n){return V(o,e,t,r,n).fill(),l},strokeRect:function(e,t,r,n){return V(o,e,t,r,n).stroke(),l},fullRect:function(e,t,r,n){return V(o,e,t,r,n),o.fill(),o.stroke(),l},createLinearGradient:function(e,t,r,n){return function(e,t,r,n,i){var o=e.createLinearGradient(t,r,n,i),a={value:function(){return o},addColorStop:function(e,t){return o.addColorStop(e,t),a}};return a}(o,e,t,r,n)},createRadialGradient:function(e,t,r){return function(e,t,r,n){var i=e.createRadialGradient(t,r,0,t,r,n),o={value:function(){return i},addColorStop:function(e,t){return i.addColorStop(e,t),o}};return o}(o,e,t,r)}};return l}function H(e,t,r){window.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}function Y(e,t){var r,n,i=1,o=1,a={},s={},l=[0,0,0],u="r";return"default"==e._platform?(r=document.createElement("canvas"),n=Z(e._platform,r,1,1)):(r=t.region,n=Z(e._platform,{painter:t.region},t.width,t.height),i=t.width,o=t.height),{draw:function(){r.draw()},erase:function(){n.config({fillStyle:"rgb(255,255,255)"}).fillRect(0,0,i,o)},updateSize:function(a,s){i=a,o=s,n="default"==e._platform?Z(e._platform,r,a,s):Z(e._platform,{painter:t.region},a,s)},painter:function(e,t){return null==a[e]&&(a[e]={r:function(){return l[0]+=1,u="g","rgb("+l[0]+","+l[1]+","+l[2]+")"},g:function(){return l[1]+=1,u="b","rgb("+l[0]+","+l[1]+","+l[2]+")"},b:function(){return l[2]+=1,u="r","rgb("+l[0]+","+l[1]+","+l[2]+")"}}[u]()),s[e]=t,n.config(K).config({fillStyle:a[e],strokeStyle:a[e]}),n},getRegion:function(t,n){var i,o=function(e,t){if("result"==t.type)return{x:t.position.left,y:t.position.top};var r=e.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}(e.__canvas,t),l=function(){for(var e in a)if("rgb("+i[0]+","+i[1]+","+i[2]+")"==a[e])return void n([e,o.x,o.y,s[e]]);n([null,o.x,o.y,void 0])};"default"==e._platform?(o.x-=m(e.__canvas,"border-left-width").replace("px",""),o.y-=m(e.__canvas,"border-top-width").replace("px",""),i=r.getContext("2d").getImageData(2*o.x-.5,2*o.y-.5,1,1).data,l()):e.__options.el.getRegionColor({x:o.x-.5,y:o.y-.5,width:1,height:1,canvasId:e.__options.el.regionid,success:function(e){i=e.data,l()},fail:function(e){throw new Error(e)}})}}}var X={blankReg:new RegExp("[\\x20\\t\\r\\n\\f]"),blanksReg:/^[\x20\t\r\n\f]{0,}$/,identifier:/^[a-zA-Z_$][0-9a-zA-Z_$]{0,}$/},Q=["+","-","*","/","%","&","|","!","?",":","[","]","(",")",">","<","="],ee=["+","-","*","/","%","&","|","!","?",":",">","<","=","<=",">=","==","===","!=","!=="];function te(e,t,r){t=t.trim();var n=-1,i=null,o=function(){return i=n++<t.length-1?t[n]:null},a=function(e){return t.substring(n,e+n>t.length?t.length:e+n)};o();for(var s=[];!(n>=t.length);)if(Q.indexOf(i)>-1)if(["&","|","="].indexOf(i)>-1)if(["==="].indexOf(a(3))>-1)s.push(a(3)),n+=2,o();else{if(!(["&&","||","=="].indexOf(a(2))>-1))throw new Error("Illegal expression : "+t+"\nstep='analyseExpress',index="+n);s.push(a(2)),n+=1,o()}else["!=="].indexOf(a(3))>-1?(s.push(a(3)),n+=2,o()):[">=","<=","!="].indexOf(a(2))>-1?(s.push(a(2)),n+=1,o()):(s.push(i),o());else if(['"',"'"].indexOf(i)>-1){var u="",c=i;for(o();i!=c;){if(n>=t.length)throw new Error("String unclosed error : "+t+"\nstep='analyseExpress',index="+n);u+=i,o()}s.push(u+"@string"),o()}else if(/\d/.test(i)){var f="no";for(u=i,o();n<t.length;){if(/\d/.test(i))u+=i,"error"==f&&(f="yes");else{if("."!=i||"no"!=f)break;u+=i,f="error"}o()}"error"==f&&(u+="0"),s.push(+u)}else if(["null","true"].indexOf(a(4))>-1)s.push({null:null,true:!0}[a(4)]),n+=3,o();else if(["false"].indexOf(a(5))>-1)s.push({false:!1}[a(5)]),n+=4,o();else if(["undefined"].indexOf(a(9))>-1)s.push({undefined:void 0}[a(9)]),n+=8,o();else if(X.blankReg.test(i))do{o()}while(X.blankReg.test(i)&&n<t.length);else{var d=!1;if("."==i&&(d=!0,o()),!X.identifier.test(i))throw new Error("Illegal express : "+t+"\nstep='analyseExpress',index="+n);for(var h=1;n+h<=t.length&&X.identifier.test(a(h));)h+=1;if(d)s.push("["),s.push(a(h-1)+"@string"),s.push("]");else{var p=a(h-1),g=p in r?r[p]:e[p];s.push(l(g)?g+"@string":g)}n+=h-2,o()}for(var v=0,_=0;_<s.length;_++)["+","-"].indexOf(s[_])>-1&&(0==_||ee.indexOf(s[v-1])>-1)?(s[v++]=+(s[_]+s[_+1]),_+=1):s[v++]=s[_];return s.length=v,s}var re=function(e){return"string"==typeof e?e.replace(/@string$/,""):e},ne=function(e){return"string"==typeof e?e+"@string":e};function ie(e){for(var t=0,r=0;r<e.length;r++)"!"==e[r]?e[t]=!e[++r]:e[t]=e[r],t+=1;if(1==t)return re(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"*"==e[r]?e[t-1]=re(e[t-1])*re(e[++r]):"/"==e[r]?e[t-1]=re(e[t-1])/re(e[++r]):"%"==e[r]?e[t-1]=re(e[t-1])%re(e[++r]):e[t++]=e[r];if(1==t)return re(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"+"==e[r]?e[t-1]=ne(re(e[t-1])+re(e[++r])):"-"==e[r]?e[t-1]=re(e[t-1])-re(e[++r]):e[t++]=e[r];if(1==t)return re(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)">"==e[r]?e[t-1]=re(e[t-1])>re(e[++r]):"<"==e[r]?e[t-1]=re(e[t-1])<re(e[++r]):"<="==e[r]?e[t-1]=re(e[t-1])<=re(e[++r]):">="==e[r]?e[t-1]=re(e[t-1])>=re(e[++r]):e[t++]=e[r];if(1==t)return re(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"=="==e[r]?e[t-1]=re(e[t-1])==re(e[++r]):"==="==e[r]?e[t-1]=re(e[t-1])===re(e[++r]):"!="==e[r]?e[t-1]=re(e[t-1])!=re(e[++r]):"!=="==e[r]?e[t-1]=re(e[t-1])!==re(e[++r]):e[t++]=e[r];if(1==t)return re(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"&&"==e[r]?(e[t-1]=re(e[t-1])&&re(e[1+r]),r+=1):"||"==e[r]?(e[t-1]=re(e[t-1])||re(e[1+r]),r+=1):e[t++]=e[r];if(1==t)return re(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"?"==e[r]?(e[t-1]=re(e[t-1])?re(e[r+1]):re(e[r+3]),r+=3):e[t++]=e[r];if(1==t)return re(e[0]);throw e.length=t,new Error("Unrecognized expression : ["+e.toString()+"]")}var oe=function e(t,r,n){if(r.indexOf("(")>-1){for(var i=[],o=[],a=0,s=0;s<r.length;s++)if("("==r[s])a>0&&o.push("("),a+=1;else if(")"==r[s]){if(a>1&&o.push(")"),0==(a-=1)){var u=ie(e(t,o));i.push(l(u)?u+"@string":u),o=[]}}else a>0?o.push(r[s]):i.push(r[s]);r=i}return ae(r)},ae=function(e){for(var t=!0;t;){t=!1;for(var r=[],n=[],i=!1,o=0;o<e.length;o++)if("["==e[o]&&0!=o&&"]"!=e[o-1]){if(i){r.push("[");for(var a=0;a<n.length;a++)r.push(n[a])}else i=!0;n=[]}else if("]"==e[o]&&i){t=!0;var s=ie(n),u=r[r.length-1][s];r[r.length-1]=l(u)?u+"@string":u,i=!1}else i?n.push(e[o]):r.push(e[o]);e=r}return e},se=function(e){for(var t=[],r=[],n=0;n<e.length;n++)"["==e[n]?r=[]:"]"==e[n]?t.push(ie(r)):r.push(e[n]);return t};function le(e,t,r){var n,i=oe(e,t);if("["!=i[0])n=[ie(i)];else if("]"==i[i.length-1])n=se(i);else{var o=i.lastIndexOf("]"),a=se(i.slice(0,o+1)),s=i.slice(o+1);s.unshift(function(e,t,r){for(var n=(t[0]in r?r[t[0]]:e[t[0]]),i=1;i<t.length;i++)try{n=n[t[i]]}catch(o){throw o}return n}(e,a,r)),n=[ie(s)]}return n}var ue,ce=function(e,t,r){arguments.length<3&&(r={});var n=te(e,t,r),i=le(e,n,r);if(i.length>1)throw new Error("Illegal expression : "+t+"\nstep='evalExpress',path="+i+",expressArray="+n);return i[0]},fe=function(e,t,r){if(t.animation&&e.value!=t.value){if(u(t.animation))return{type:t.type,animation:!0,value:t.animation(t.value,e.value,r)};if("number"==t.type)return{type:t.type,animation:!0,value:(t.value-e.value)*r+e.value}}return t};function de(e){this instanceof de&&(["beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDestroy","destroyed"].forEach((function(t){c(e[t])&&(e[t]=C(e[t]))})),this.$$lifecycle(e.beforeCreate),this.$$init(e),function(e){var t=function(t){var r=e.__data[t];e[t]=r,Object.defineProperty(e,t,{get:function(){return r},set:function(t){r=t,e.__observeWatcher.flag||setTimeout((function(){e.$$updateWithData(),e.__observeWatcher.flag=!1}),0),e.__observeWatcher.flag=!0}})};for(var r in e.__data)t(r)}(this),this.$$lifecycle("created"),this.$mount(e.el))}function he(e){var t=C(e);for(var r in t.attrs)u(t.attrs[r])&&(t.attrs[r]=t.attrs[r](!1));for(var n in t.subAttrs)for(var i in t.subAttrs[n])u(t.subAttrs[n][i])&&(t.subAttrs[n][i]=t.subAttrs[n][i](!1));return t}de.prototype.$$init=function(e){var t=this;for(var r in this.__options=e,this._debug="debug"in e&&e.debug,this._platform="platform"in e?e.platform:"default",this.__data=c(e.data)?C(e.data):u(e.data)?e.data():e.data,this.__animation=!("animation"in e)||e.animation,this._isMounted=!1,this._isDestroyed=!1,e.methods)v(r),this[r]=c(e.methods[r])?C(e.methods[r]):e.methods[r];for(var n in this.__data)v(n),this[n]=this.__data[n];this.__renderFlag=!!e.render||!!e.template,e.render?this.__renderAOP=F(e.render,this.__defineSerirs):e.template&&(this.__renderOptions=this.$$templateCompiler(e.template),this.__renderAOP=F(this.__renderOptions,this.__defineSerirs)),this.__observeWatcher={flag:!1,stop:null,time:"time"in e?e.time:500},this.__observeResize={help:!0,flag:!1,observer:null},this.__painter=null,this._width=0,this._height=0,this._min=0,this._max=0,"default"==this._platform?this.__regionManager=Y(this):this.__regionManager=Y(this,e.el),this.$$trigger=function(e,r){for(var n=t.__events_platform[e],i=0;i<n.length;i++)n[i]({type:"result",position:r})}},function(e){e.prototype.$$lifecycle=function(e){return u(e)?e():["created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDraw","drawed","beforeDestroy","destroyed"].indexOf(e)>-1&&u(this.__options[e])&&this.__options[e].call(this),this}}(de),function(e){e.prototype.$$updateView=function(){var e=this;if(!(!this._isMounted||!this.__painter||this._width<1||this._height<1)){this.$$lifecycle("beforeDraw"),this.__regionManager.erase(),this.__painter.clearRect();for(var t=function(t){var r={_subTexts:e.__renderSeries[t].subText,_subAttr:[]};for(var n in e.__renderSeries[t].attr)r[n]=e.__renderSeries[t].attr[n].value;for(var i=0;i<e.__renderSeries[t].subAttr.length;i++){var o={series:e.__renderSeries[t].subAttr[i].name,attr:{}};for(var a in e.__renderSeries[t].subAttr[i].attr)o.attr[a]=e.__renderSeries[t].subAttr[i].attr[a].value;r._subAttr.push(o)}e.__painter.config(K),e.__defineSerirs[e.__renderSeries[t].name].link.call(e,e.__painter,r);var s=e.__defineSerirs[e.__renderSeries[t].name].region;if(s){var l=function(n){var i=e;s[n].call(i,(function(e,r){return arguments.length>0?e+="":e="default",i.__regionManager.painter(t+"@"+n+"::"+e,r)}),r)};for(var u in s)l(u)}},r=0;r<this.__renderSeries.length;r++)t(r);"uni-app"==this._platform&&setTimeout((function(){e.__platform_painter.draw(),null!=e.__regionManager&&e.__regionManager.draw()}),200),this.$$lifecycle("drawed")}},e.prototype.$$updateWithSize=function(){var e=this;this.$$lifecycle("beforeResize");var t=this.__el.clientWidth-(m(this.__el,"padding-left")+"").replace("px","")-(m(this.__el,"padding-right")+"").replace("px",""),r=this.__el.clientHeight-(m(this.__el,"padding-top")+"").replace("px","")-(m(this.__el,"padding-bottom")+"").replace("px","");if(this._width=t,this._height=r,this._max=t>r?t:r,this._min=t<r?t:r,0==t||0==r)return this.__canvas.style.width="0px",this.__canvas.style.height="0px",void this.$$lifecycle("resized");this.__painter=Z(this._platform,this.__canvas,t,r),this.__regionManager.updateSize(t,r),u(this.__observeWatcher.stop)&&(this.__observeWatcher.stop(),this.__observeWatcher.stop=null),setTimeout((function(){e.$$updateWithData(!0),e.$$lifecycle("resized")}),10)},e.prototype.$$updateWithData=function(e){var t=this;u(this.__observeWatcher.stop)?(this.__observeWatcher.stop(),this.__observeWatcher.stop=null):this.$$lifecycle("beforeUpdate"),this.__events={click:{},dblclick:{},mousemove:{},mousedown:{},mouseup:{}};var r=[],n=this;if(function e(t,i,o,a,l){for(var u=[],f=0;f<t.length;f++){for(var d in i)t[f].scope[d]=i[d];var h=void 0;h="_id"in t[f]?t[f]._id.isBind?ce(n,t[f]._id.express,t[f].scope):t[f]._id.express:a+t[f].index;var p=void 0;if(p="_animation"in t[f]?t[f]._animation.isBind?ce(n,t[f]._animation.express,t[f].scope):t[f]._animation.express:"lazy",l||!("c-for"in t[f])){if("c-if"in t[f]&&!ce(n,t[f]["c-if"],t[f].scope));else if(e(t[f].children,t[f].scope,!1,h+"-",!1),"group"!=t[f].name){var g={name:t[f].name,attr:{},subAttr:[],subText:t[f].text,id:h,animation:p};for(var v in t[f].attrs){var _=t[f].attrs[v];g.attr[v]={animation:_.animation,type:_.type,value:_.value.isBind?ce(n,_.value.express,t[f].scope):_.value.express}}g.subAttr=e(t[f].subAttrs,t[f].scope,!0,h+"-",!1);for(var y=0;y<t[f].events.length;y++){var m=t[f].events[y];n.__events[m.event][r.length+"@"+m.region]=n[m.method]}o?u.push(g):r.push(g)}}else{var b=t[f]["c-for"],x=void 0;if(c(b.data))x=b.data;else if(x=ce(n,b.data,t[f].scope),s(x)){var w=x;x=[];for(var k=0;k<w;k++)x.push(k)}for(var $ in x){t[f].scope[b.value]=x[$],null!=b.key&&(t[f].scope[b.key]=c(x)?+$:$);var S=e([t[f]],{},o,h+"for"+$+"-",!0);if(o)for(var A=0;A<S.length;A++)u.push(S[A])}}}return u}(this.__renderAOP,{},!1,"",!1),"default"==this._platform&&this._debug&&this.__el.getElementsByTagName("canvas")[0].setAttribute("__clunch__devtool__target__",function(e){var t={};for(var r in e.__data)t[r]=e[r];return JSON.stringify({version:"v1",render:{Series:e.__renderSeries,AOP:e.__renderAOP},data:t})}(this)),!this.__renderSeries||e||!this.__animation)return this.__renderSeries=r,this.$$updateView(),void this.$$lifecycle("updated");var i=function(e,t){for(var r={},n=0;n<e.length;n++){for(var i={},o=0;o<e[n].subAttr.length;o++)i[e[n].subAttr[o].id]=o;r[e[n].id]={index:n,subLinkIdToIndex:i}}return function(n){if(1==n)return t;for(var i=[],o=0;o<t.length;o++)if(t[o].id in r){var a=e[r[t[o].id].index],s={};for(var l in a.attr)s[l]=fe(a.attr[l],t[o].attr[l],n);for(var u=[],c=0;c<t[o].subAttr.length;c++)if(t[o].subAttr[c].id in r[t[o].id].subLinkIdToIndex){var f=a.subAttr[r[t[o].id].subLinkIdToIndex[t[o].subAttr[c].id]],d={};for(var h in f.attr)d[h]=fe(f.attr[h],t[o].subAttr[c].attr[h],n);u.push({id:f.id,name:f.name,subText:f.subText,subAttr:[],attr:d})}else u.push(t[o].subAttr[c]);i.push({id:t[o].id,name:t[o].name,subText:t[o].subText,subAttr:u,attr:s})}else"quick"==t[o].animation&&i.push(t[o]);return i}}(this.__renderSeries,r);this.__observeWatcher.stop=h((function(e){t.__renderSeries=i(e),t.$$updateView()}),this.__observeWatcher.time,(function(e){1==e&&(t.__observeWatcher.stop=null,t.$$lifecycle("updated"))}))}}(de),de.prototype.__defineSerirs={},function(e){e.prototype.$reuseSeriesLink=function(e,t){this.__painter.config(K);var r=this.__defineSerirs[e],n={_subAttr:[],_subTexts:"texts"in t?t.texts:[]};for(var i in r.attrs)i in t.attr?n[i]=t.attr[i]:n[i]=r.attrs[i].default;if("subSeries"in t)for(var o=0;o<t.subSeries.length;o++){var a=t.subSeries[o],s=r.subAttrs[a.name],l={series:a.name,attr:{}};for(var u in a.attr)u in a.attr?l.attr[u]=a.attr[u]:l.attr[u]=s[u].default;n._subAttr.push(l)}r.link.call(this,this.__painter,n)}}(ue=de),ue.series=function(e,t){if(1==arguments.length)for(var r in e)ue.series(r,e[r]);else u(ue.prototype.__defineSerirs[e]),ue.prototype.__defineSerirs[e]=he(t);return ue},de.prototype.$mount=function(e){var t=this;return this._isDestroyed?this:this._isMounted?void 0:"default"!=this._platform||a([1,9,11],e)?(this.$$lifecycle("beforeMount"),this.__renderFlag||(this.__renderOptions=this.$$templateCompiler(e.innerHTML),this.__renderAOP=F(this.__renderOptions,this.__defineSerirs)),this.__el=e,"default"==this._platform&&(this._debug&&this.__el.setAttribute("__clunch__devtool__",(new Date).valueOf()+""+(1e5*Math.random()).toFixed(0)),e.innerHTML="<canvas>非常抱歉，您的浏览器不支持canvas!</canvas>",this.__canvas=e.getElementsByTagName("canvas")[0],function(t){try{t.__observeResize.observer=new ResizeObserver((function(){if(t.__observeResize.flag)t.__observeResize.help=!1;else{t.__observeResize.flag=!0;var e=setInterval((function(){t.__observeResize.help&&(clearInterval(e),t.__observeResize.flag=!1,t.$$updateWithSize()),t.__observeResize.help=!0}),200)}})),t.__observeResize.observer.observe(t.__el)}catch(e){t.$$updateWithSize()}}(this)),this.$$updateWithData(),this.__events_platform={click:[],dblclick:[],mousemove:[],mousedown:[],mouseup:[]},["click","dblclick","mousemove","mousedown","mouseup"].forEach((function(e){var r=function(r){t.__regionManager.getRegion(r,(function(r){if(null!=r[0]){var n=r[0].split("::"),i=t.__events[e][n[0]];if(u(i)){var o=n[0].split("@"),a=t.__renderSeries[o[0]],s={};for(var l in a.attr)s[l]=a.attr[l].value;i.call(t,{id:a.id,series:a.name,region:o[1],subRegion:n[1],attr:s,left:r[1],top:r[2],data:r[3]})}}}))};"default"==t._platform?H(t.__canvas,e,r):t.__events_platform[e].push(r)})),this.$bind=function(e,t){var r=this,n=function(e){r.__regionManager.getRegion(e,(function(e){var n;if(null!=e[0]){var i=e[0].split("::"),o=i[0].split("@"),a=r.__renderSeries[o[0]],s={};for(var l in a.attr)s[l]=a.attr[l].value;n={id:a.id,series:a.name,region:o[1],subRegion:i[1],attr:s,left:e[1],top:e[2],data:e[3]}}else n={series:null,region:null,subRegion:null,attr:{},left:-1,top:-1,data:null};n.left=e[1],n.top=e[2],t.call(r,n)}))};return"default"==this._platform?H(this.__canvas,e,n):(e in this.__events_platform||(this.__events_platform[e]=[]),this.__events_platform[e].push(n)),this},this._isMounted=!0,this.$$lifecycle("mounted"),"default"!=this._platform&&(this.__painter=Z(this._platform,e,e.width,e.height),this.__platform_painter=e.painter,this.$resize(e.width,e.height)),this):this},de.prototype.$unmount=function(){return this._isDestroyed?this:this._isMounted?(this.$$lifecycle("beforeUnmount"),this.__observeResize.observer.disconnect(),this.__painter=null,this.__canvas=null,this._isMounted=!1,this.$$lifecycle("unmounted"),this):this},de.prototype.$destroy=function(){return this._isDestroyed||(this._isMounted&&this.$unmount(),this.$$lifecycle("beforeDestroy"),delete this.__regionManager,this.__observeResize={},this.__observeWatcher={},this._isDestroyed=!0,this.$$lifecycle("destroyed")),this},de.prototype.$resize=function(e,t){if(this._isMounted||"default"!=this._platform)if("default"!=this._platform){if(!s(e))return this;if(!s(t))return this;this.$$lifecycle("beforeResize"),this._width=e,this._height=t,this._max=e>t?e:t,this._min=e<t?e:t,null!=this.__regionManager&&this.__regionManager.updateSize(e,t),this.$$updateWithData(!0),this.$$lifecycle("resized")}else this.$$updateWithSize();return this},de.series("group",[function(){return{attrs:{}}}]);var pe=["number","json","string","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":e(1)(!0),dash:t([]),type:r("fill"),cx:e()(!0),cy:e()(!0),radius1:e()(!0),radius2:e()(!0),begin:e(0)(!0),deg:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Arc"](t.cx,t.cy,t.radius1,t.radius2,t.begin,t.deg)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var r=t.type;if(!u(e[r+"Arc"]))throw new Error("Type error!"+JSON.stringify({series:"arc",type:r}));e[r+"Arc"](t.cx,t.cy,t.radius1,t.radius2,t.begin,t.deg)}}}],ge=["number","json","string","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":e(1),dash:t([]),type:r("fill"),cx:e()(!0),cy:e()(!0),radius:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Circle"](t.cx,t.cy,t.radius)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var r=t.type;if(!u(e[r+"Circle"]))throw new Error("Type error!"+JSON.stringify({series:"circle",type:r}));e[r+"Circle"](t.cx,t.cy,t.radius)}}}],ve=["number","string","boolean","json","color",function(e,t,r,n,i){return{attrs:{"fill-color":i("black"),"stroke-color":i("black"),"line-width":e(1)(!0),dash:n([]),type:t("stroke"),close:r(!1)},subAttrs:{"move-to":{x:e()(!0),y:e()(!0)},"line-to":{x:e()(!0),y:e()(!0)},"bezier-to":{x:e()(!0),y:e()(!0),cp1x:e()(!0),cp1y:e()(!0),cp2x:e(null)(!0),cp2y:e(null)(!0)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash}),e.beginPath();for(var r=0;r<t._subAttr.length;r++)"move-to"==t._subAttr[r].series?e.moveTo(t._subAttr[r].attr.x,t._subAttr[r].attr.y):"line-to"==t._subAttr[r].series?e.lineTo(t._subAttr[r].attr.x,t._subAttr[r].attr.y):"bezier-to"==t._subAttr[r].series&&(null==t._subAttr[r].attr.cp2x&&null==t._subAttr[r].attr.cp2y?e.quadraticCurveTo(t._subAttr[r].attr.cp1x,t._subAttr[r].attr.cp1y,t._subAttr[r].attr.x,t._subAttr[r].attr.y):e.bezierCurveTo(t._subAttr[r].attr.cp1x,t._subAttr[r].attr.cp1y,t._subAttr[r].attr.cp2x,t._subAttr[r].attr.cp2y,t._subAttr[r].attr.x,t._subAttr[r].attr.y));t.close&&e.closePath();var n=t.type;if(!u(e[n]))throw new Error("Type error!"+JSON.stringify({series:"path",type:n}));e[n]()}}}],_e=["number","json","string","color","$rotate",function(e,r,n,i,o){return{attrs:{begin:e(0),deg:e(2*Math.PI),color:i("black"),cx:e(),cy:e(),radius:e(),"mark-direction":n("outer"),"value-position":n("mark"),value:r()},link:function(e,r){var n=r.value;e.config({lineWidth:1,fillStyle:r.color,strokeStyle:r.color,"font-size":"12",textAlign:"center",textBaseline:"middle",lineDash:[]}),e.beginPath().arc(r.cx,r.cy,r.radius,r.begin,r.deg).stroke();for(var i="mark"==r["value-position"]?n.length:n.length+1,a=r.deg/(i-1),s=0;s<i;s++){var l,u;(l=(u=e.beginPath()).moveTo.apply(u,t(o(r.cx,r.cy,r.begin+s*a,r.cx+r.radius,r.cy)))).lineTo.apply(l,t(o(r.cx,r.cy,r.begin+s*a,r.cx+r.radius+5*("inner"==r["mark-direction"]?-1:1),r.cy))).stroke()}for(var c=0;c<n.length;c++){var f=r.begin+a*(c+("mark"==r["value-position"]?0:.5)),d=f%(2*Math.PI);e.fillText.apply(e,[n[c]].concat(t(o(r.cx,r.cy,f,r.cx+r.radius+15*("inner"==r["mark-direction"]?-1:1),r.cy)),[f+(d>0&&d<Math.PI||d>-2*Math.PI&&d<-Math.PI?.5*-Math.PI:.5*Math.PI)]))}}}}],ye=["number","json","string","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":e(1),dash:t([]),type:r("fill"),align:r("left"),baseline:r("top"),x:e()(!0),y:e()(!0),width:e()(!0),height:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Rect"](t.x,t.y,t.width,t.height)}},link:function(e,t){"center"==t.align?t.x-=.5*t.width:"right"==t.align&&(t.x-=t.width),"middle"==t.baseline?t.y-=.5*t.height:"bottom"==t.baseline&&(t.y-=t.height),e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var r=t.type;if(!u(e[r+"Rect"]))throw new Error("Type error!"+JSON.stringify({series:"rect",type:r}));e[r+"Rect"](t.x,t.y,t.width,t.height)}}}],me=["number","json","string","color","$dot",function(e,r,n,i,o){return{attrs:{x:e(),y:e(),direction:n("LR"),length:e(),"mark-direction":n("right"),"value-position":n("mark"),color:i("black"),value:r()},link:function(e,r){var n,i,a=r.value;if(e.config({lineWidth:1,fillStyle:r.color,strokeStyle:r.color,"font-size":"12",textAlign:"LR"==r.direction||"RL"==r.direction?"center":"BT"==r.direction&&"right"==r["mark-direction"]||"TB"==r.direction&&"left"==r["mark-direction"]?"left":"right",lineDash:[],textBaseline:"middle"}),"LR"==r.direction)n={x:r.x+r.length,y:r.y},i="right"==r["mark-direction"]?[0,1]:[0,-1];else if("RL"==r.direction)n={x:r.x-r.length,y:r.y},i="right"==r["mark-direction"]?[0,-1]:[0,1];else if("TB"==r.direction)n={x:r.x,y:r.y+r.length},i="right"==r["mark-direction"]?[-1,0]:[1,0];else{if("BT"!=r.direction)throw new Error("Type error!"+JSON.stringify({series:"ruler",type:type}));n={x:r.x,y:r.y-r.length},i="right"==r["mark-direction"]?[1,0]:[-1,0]}e.beginPath().moveTo(r.x,r.y).lineTo(n.x,n.y).stroke();for(var s="mark"==r["value-position"]?a.length:a.length+1,l=r.length/(s-1),u=o({d:[n.x-r.x,n.y-r.y],p:[r.x,r.y]}),c=0;c<s;c++){var f,d=u.value();(f=e.beginPath()).moveTo.apply(f,t(d)).lineTo(d[0]+5*i[0],d[1]+5*i[1]).stroke(),u.move(l)}u=o({d:[n.x-r.x,n.y-r.y],p:[r.x,r.y]}),"between"==r["value-position"]&&u.move(.5*l);for(var h=0;h<a.length;h++){var p=u.value();e.fillText(a[h],p[0]+15*i[0],p[1]+15*i[1]),u.move(l)}}}}],be=["number","string","json","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"font-size":e(16)(!0),"font-family":t("sans-serif"),"line-width":e(1),align:t("left"),baseline:t("middle"),type:t("fill"),content:t(null),x:e()(!0),y:e()(!0),deg:e(0)(!0),dash:r([])},region:{default:function(e,t){e().config({"font-size":t["font-size"],"font-family":t["font-family"],lineWidth:t["line-width"],textAlign:t.align,textBaseline:t.baseline,lineDash:t.dash})[t.type+"Text"]((t.content+"").trim(),t.x,t.y,t.deg)}},link:function(e,t){null==t.content&&(t.content=t._subTexts.join("\n")),e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],"font-size":t["font-size"],"font-family":t["font-family"],lineWidth:t["line-width"],textAlign:t.align,textBaseline:t.baseline,lineDash:t.dash});var r=t.type;if(!u(e[r+"Text"]))throw new Error("Type error!"+JSON.stringify({series:"text",type:r}));e[r+"Text"]((t.content+"").trim(),t.x,t.y,t.deg)}}}];de.prototype.$$templateCompiler=function(e){throw new Error("Sorry, setting template property is not supported in the current environment : \n"+e)},de.series({arc:pe,circle:ge,path:ve,"polar-ruler":_e,rect:ye,ruler:me,text:be}),"object"===e(n)&&"object"===e(n.exports)?n.exports=de:window.Clunch=de}();var a=o.exports,s={48:[0,")"],49:[1,"!"],50:[2,"@"],51:[3,"#"],52:[4,"$"],53:[5,"%"],54:[6,"^"],55:[7,"&"],56:[8,"*"],57:[9,"("],96:[0,0],97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9,106:"*",107:"+",109:"-",110:".",111:"/",65:["a","A"],66:["b","B"],67:["c","C"],68:["d","D"],69:["e","E"],70:["f","F"],71:["g","G"],72:["h","H"],73:["i","I"],74:["j","J"],75:["k","K"],76:["l","L"],77:["m","M"],78:["n","N"],79:["o","O"],80:["p","P"],81:["q","Q"],82:["r","R"],83:["s","S"],84:["t","T"],85:["u","U"],86:["v","V"],87:["w","W"],88:["x","X"],89:["y","Y"],90:["z","Z"],37:"left",38:"up",39:"right",40:"down",33:"page up",34:"page down",35:"end",36:"home",16:"shift",17:"ctrl",18:"alt",91:"command",92:"command",93:"command",224:"command",9:"tab",20:"caps lock",32:"spacebar",8:"backspace",13:"enter",27:"esc",46:"delete",45:"insert",144:"number lock",145:"scroll lock",12:"clear",19:"pause",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",189:["-","_"],187:["=","+"],219:["[","{"],221:["]","}"],220:["\\","|"],186:[";",":"],222:["'",'"'],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"]},l=["shift","ctrl","alt"];
/*!
 * 🌐 - 获取键盘此时按下的键的组合结果
 * https://github.com/hai2007/browser.js/blob/master/getKeyString.js
 *
 * author hai2007 < https://hai2007.gitee.io/sweethome >
 *
 * Copyright (c) 2021-present hai2007 走一步，再走一步。
 * Released under the MIT license
 */function u(){new a({el:document.getElementById("keyboard-canvas"),render:i,data:()=>({keys:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],currentKey:"X",errorKey:"",rightKey:""}),mounted(){let e,t,r,n="noBegin";window.intervalSingle=null;let i=document.getElementById("single-time"),o=document.getElementById("single-speed"),a=document.getElementById("single-process"),u=document.getElementById("single-rate");document.body.addEventListener("keydown",(c=>{if("noBegin"==n&&(n="Runing",e=(new Date).valueOf(),t=0,r=0,window.intervalSingle&&clearInterval(window.intervalSingle),window.intervalSingle=setInterval((()=>{let t=(new Date).valueOf()-e,n=new Date(t),a=n.getHours()-8,s=n.getMinutes(),l=n.getSeconds();i.innerText=(a>9?"":"0")+a+":"+(s>9?"":"0")+s+":"+(l>9?"":"0")+l,o.innerText=(r/(.001*t)*60).toFixed(0)+"字/分"}),1e3)),"Runing"==n){t+=1;let e=""+function(e){var t=(e=e||window.event).keyCode||e.which,r=s[t]||t;if(r){r.constructor!==Array&&(r=[r,r]);var n=r[0],i=e.shiftKey?"shift+":"",o=e.altKey?"alt+":"",a="",u=(e.ctrlKey?"ctrl+":"")+i+o;l.indexOf(r[0])>=0&&(r[0]=r[1]="");var c=e.code=="Key"+e.key&&!i;return a=u+(""==u&&c?r[1]:r[0]),""==r[0]&&(a=a.replace(/\+$/,"")),""==a?n:a}}(c).toUpperCase();this.currentKey==e?(this.currentKey="",this.rightKey=e,r+=1,a.innerText=(r/1e3*100).toFixed(0)+"%",r>=1e3&&(clearInterval(window.intervalSingle),n="end",alert("打字练习完毕，底部有进度和结果，如果想重新练习，请刷新浏览器～")),setTimeout((()=>{this.currentKey=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"][(25*Math.random()).toFixed(0)],this.rightKey=""}),100)):(this.errorKey=e,setTimeout((()=>{this.errorKey=""}),50)),u.innerText=(r/t*100).toFixed(0)+"%"}}))}})}let c=0;class f extends e.Component{constructor(e){super(e)}render(){return t("div",{className:"keyboard",children:[r("div",{className:"canvas",id:"keyboard-canvas"}),t("div",{className:"ctrl",children:[t("span",{children:["时间",r("i",{id:"single-time",children:"00:00:00"})]}),t("span",{children:["速度",r("i",{id:"single-speed",children:"0字/分"})]}),t("span",{children:["进度",r("i",{id:"single-process",children:"0%"})]}),t("span",{children:["正确率",r("i",{id:"single-rate",children:"100%"})]})]})]})}componentDidMount(){0==c&&u(),c+=1}}export{f as default};
